---
import { rx } from "theme";
import { Link } from "@rxdrag/website-lib";

interface Props {
  activeSlug?: string;
}
const { activeSlug } = Astro.props;
const config = (await rx.getTheme())?.config;
const categories = await rx.getProductCategories();---

<div class="w-[400px] hidden lg:block scrolled top-24">
  <div class=" bg-white overflow-hidden p-4">
    <h3 class="text-base font-semibold text-gray-900 my-3 pl-3">Categories</h3>
    <div class="flex flex-col gap-5 border-l border-gray-300">
      {
        categories?.map((category) => (
          <Link
            class={`w-full transition-all duration-150 rounded-md px-3 py-2 ${
              activeSlug === category?.slug
                ? "relative before:content-[''] before:absolute before:w-2 before:h-2 before:bg-gray-300 before:rounded-full before:left-0 before:top-1/2 before:-translate-y-1/2 before:-translate-x-1/2"
                : "text-gray-600 hover:text-primary"
            }`}
            type="product-category"
            to={category?.slug}
          >
            {category?.name}
          </Link>
        ))
      }
    </div>
    
    <!-- <div class="border-t border-gray-200 my-4"></div>
    
    <h3 class="text-base font-semibold text-gray-900 mb-3">Contact</h3>
    <div class="space-y-3 text-sm text-gray-600">
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Email:</span>
        <a href={`mailto:${config?.email}`} class="hover:text-sky-600 hover:underline">
          {config?.email}
        </a>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Tel:</span>
        <span>{config?.tel}</span>
      </div>
      <div class="flex items-center gap-2">
        <span class="text-gray-800 font-medium">Contact:</span>
        <span>{config?.contact}</span>
      </div>
    </div> -->
  </div>
</div>
